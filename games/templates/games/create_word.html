{% extends 'games/basic_template.html' %} 

{% block 'title' %}New word{% endblock 'title' %}

{% block 'body' %}



<div class="container d-flex align-items-center justify-content-center py-5" id="wordForm">
    
    <form class = "needs-validation" method="POST" action="{% url 'games:new_word' %}" autocomplete="off"> 
        {% csrf_token %}
        <h3 class="">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Å–ª–æ–≤–æ</h3>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon1" req>–°–ª–æ–≤–æ –Ω–∞ –∏—Å–ø–∞–Ω—Å–∫–æ–º</span>
            <input type="text" class="form-control" placeholder="Perrito" aria-describedby="basic-addon1" id="word_name" name="word_name" required>
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon1">–û—Å–Ω–æ–≤–Ω–æ–π –ø–µ—Ä–µ–≤–æ–¥</span>
            <input type="text" class="form-control" placeholder="–°–æ–±–∞—á–∫–∞" aria-describedby="main_translation" id="main_translation" name="main_translation" required>
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon1">–î—Ä—É–≥–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã</span>
            <input type="text" class="form-control" placeholder="–°–æ–±–∞–∫–∞, –ø—ë—Å, –ø–µ—Å" aria-describedby="basic-addon1" id="accepted_translation" name="accepted_translation">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon1">–¢–∏–ø —Å–ª–æ–≤–∞</span>
            <select class="form-select" id="word_type" name="word_type" required>
                <option value="" selected>–í—ã–±–µ—Ä–∏ —Ç–∏–ø —Å–ª–æ–≤–∞...</option>
                <option value="noun">–°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ</option>
                <option value="verb" >–ì–ª–∞–≥–æ–ª</option>
                <option value="adjective">–ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ</option>
                <option value="adverb">–ù–∞—Ä–µ—á–∏–µ</option>
                <option value="preposition">–ü—Ä–µ–¥–ª–æ–≥</option>
            </select>
        </div>

        <div id="verbSelected" class="d-none">
            <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon1">–°–ø—Ä—è–∂–µ–Ω–∏–µ –≥–ª–∞–≥–æ–ª–∞</span>
                <select class="form-select" id="verb_type" name="verb_type" required>
                    <option value="" selected>–í—ã–±–µ—Ä–∏ —Å–ø—Ä—è–∂–µ–Ω–∏–µ...</option>
                    <option value="0">0. –ò–Ω—Ñ–∏–Ω–∏—Ç–∏–≤</option>
                    <option value="1">1. –ü–µ—Ä–≤–æ–µ –ª–∏—Ü–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ</option>
                    <option value="2">2. –í—Ç–æ—Ä–æ–µ –ª–∏—Ü–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ</option>
                    <option value="3">3. –¢—Ä–µ—Ç—å–µ –ª–∏—Ü–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ</option>
                    <option value="4">4. –ü–µ—Ä–≤–æ–µ –ª–∏—Ü–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ</option>
                    <option value="5">5. –í—Ç–æ—Ä–æ–µ –ª–∏—Ü–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ</option>
                    <option value="6">6. –¢—Ä–µ—Ç—å–µ –ª–∏—Ü–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ</option>
                </select>
            </div>
            <div id="verbFormQuestions" class="d-none">
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">–ò–Ω—Ñ–∏–Ω–∏—Ç–∏–≤ –≥–ª–∞–≥–æ–ª–∞</span>
                    <select class="form-select" id="verb_base" name="verb_base" required>
                        <option value="" selected>–í—ã–±–µ—Ä–∏ –∏–Ω—Ñ–∏–Ω–∏—Ç–∏–≤...</option>
                        {% for word in infinitives %}
                        <option value="{{ word.id }}">{{ word.word_name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">–í—Ä–µ–º—è –≥–ª–∞–≥–æ–ª–∞</span>
                <select class="form-select" id="verb_tense" name="verb_tense" required>
                    <option value="" selected>–í—ã–±–µ—Ä–∏ –≤—Ä–µ–º—è...</option>
                    <option value="present">üü∞ –ù–∞—Å—Ç–æ—è—â–µ–µ</option>
                    <option value="past">‚Ü©Ô∏è –ü—Ä–æ—à–µ–¥—à–µ–µ</option>
                    <option value="future">‚Ü™Ô∏è –ë—É–¥—É—â–µ–µ</option>
                    <option value="potent">‚ùî –í–æ–∑–º–æ–∂–Ω–æ–µ</option>
                </select>
                </div>
            </div>
        </div>

        <div id="genderedWordSelected" class="d-none">
            <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon1">–†–æ–¥ —Å–ª–æ–≤–∞</span>
                <select class="form-select" id="gender" name="gender" required>
                    <option value="" selected>–í—ã–±–µ—Ä–∏ —Ä–æ–¥ —Å–ª–æ–≤–∞...</option>
                    <option value="m">‚ôÇÔ∏è –ú—É–∂—Å–∫–æ–π —Ä–æ–¥</option>
                    <option value="f">‚ôÄÔ∏è –ñ–µ–Ω—Å–∫–∏–π —Ä–æ–¥</option>
                    <option value="mf">‚ö§ –õ—é–±–æ–π</option>
                </select>
            </div>
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon1">–ê–≤—Ç–æ—Ä</span>
            <input type="text" class="form-control" placeholder="–¢—ã –Ω–µ –¥–æ–ª–∂–µ–Ω —ç—Ç–æ –≤–∏–¥–µ—Ç—å" aria-describedby="basic-addon1" value="Vlada" disabled>
        </div>
        <div class="col-12">
            <button class="btn btn-success" type="submit">Submit form</button>
        </div>
    </form>
</div>

<script>
    var verbSelected = document.getElementById("verbSelected")
    var genderedWordSelected = document.getElementById("genderedWordSelected")
    var verbFormQuestions = document.getElementById("verbFormQuestions")

    document.getElementById("word_type").onchange = open_verb_or_noun_fields;
    document.getElementById("verb_type").onchange = open_verb_form_fields;


    function open_verb_or_noun_fields() {
        var value = this.value
        genderedWordSelected.classList.add("d-none")
        verbSelected.classList.add("d-none")
        disable_or_enable_elements(genderedWordSelected, true)
        disable_or_enable_elements(verbSelected, true)

        if (value == "verb") {
            verbSelected.classList.remove("d-none")
            disable_or_enable_elements(verbSelected)
        }
        else if (value == "noun" || value == "adjective") {
            genderedWordSelected.classList.remove("d-none")
            disable_or_enable_elements(genderedWordSelected)
        }
    }

    function open_verb_form_fields() {
        var value = this.value
        verbFormQuestions.classList.add("d-none")
        disable_or_enable_elements(verbFormQuestions, true)
    
        if (value && value != "0") {
            verbFormQuestions.classList.remove("d-none")
            disable_or_enable_elements(verbFormQuestions)
        }
    }

    function disable_or_enable_elements(element, disable=false) {
        element = element.getElementsByTagName('*')
        for(var i = 0; i < element.length; i++){
            element[i].disabled = disable;
        }
    }
</script>

{% endblock 'body' %}